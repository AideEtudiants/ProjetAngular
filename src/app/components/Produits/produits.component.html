<body>
<nav class = "navbar">
  <div class="nav">
    <a href=""><img class= "brand-logo"  src= "./assets/logo.png" alt></a>
    <div class = "nav-items" >
      <div class="searchbar " style= "margin-left: 500px; margin-top: -1px;" >
        <input
        placeholder="Rechercher"
        matInput
        [formControl]="myControl"
        [matAutocomplete]="auto"
        [(ngModel)]=" data"
        class = "search-box"
        >
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        <mat-option
          *ngFor="let option of filteredOptions | async"
          [value]="option">
          {{option}}
        </mat-option>
        </mat-autocomplete>
        <button class="search-btn"  (click)="rechercher()"> Rechercher </button>
      </div>
      <a href="/profil"><img src="./assets/user.png"></a>
      <a href="/cart"><img src="./assets/cart.png">
        <div style="font-size: 15px;" class="badge bg-danger">{{totalItem}}</div></a>

    </div>
  </div>
  <ul class="links-container">
    <li class= "link-item"><a class= "link" href= ""> ACCUEIL</a></li>
    <li class= "link-item" ><a class= "link" href= "/produits"> OFFRES</a></li>
    <li class= "link-item"><a class= "link" href= "cours"> AIDES AUX DEVOIRS</a></li>
    <li class= "link-item"><a class= "link" href= "/forum"> FORUM</a></li>
  </ul>

</nav>
<h1 align="center">Toutes les offres</h1>
<div class="wrapper">
  <div class="sidebar">
    <br>
   <button class="search-btn" style="float:left; margin-left:0%;margin-top: 0px;" (click) = "newProduct()" >Nouveau produit</button>
     <br>

      <ul class = "ul">
        <!-- <li class= "active"><a href="/produits">Toutes les offres</a></li> -->
        <li class= "deroulant"><a>Catégorie</a>
          <ul  class="sous">
            <li><a (click)="filterProductBy(1,0,0,0)">Livres</a></li>
            <li><a  (click)="filterProductBy(2,0,0,0)">Equipements</a><li>
            <li><a  (click)="filterProductBy(3,0,0,0)">Autres</a></li>
          </ul>
          <br>
          <li class= "deroulant"><a>Statuts</a>
            <ul  class="sous">
              <li><a  (click)="filterProductBy(0,1,0,0)">Tout neuf</a></li>
              <li><a   (click)="filterProductBy(0,2,0,0)">Recondition en bon etat
              </a><li>
            </ul>
          </li>
          <br>
          <li class= "deroulant"><a>Diponibilité</a>
            <ul  class="sous">
              <li><a  (click)="filterProductBy(0,0,1,0)">Disponible</a></li>
              <li><a   (click)="filterProductBy(0,0,2,0)">Reservé</a><li>
              <li><a   (click)="filterProductBy(0,0,3,0)">Donné</a><li>
            </ul>
          </li>
          <br>
          <li class= "deroulant"><a>Date de création</a>
            <ul  class="sous">
              <!-- <li><a [routerLink]="" (click)="findProductByCategory(1)"></a></li>
              <li><a  [routerLink]="" (click)="findProductByCategory(2)"></a><li> -->
            </ul>
          </li>
         
      </ul>
  </div>
</div>

<div *ngIf="!filter">
<div class="row">
      <ng-container *ngFor="let item of productList">
          <div class="card col-md-3">
              <img src="{{item.image}}" alt="">
              <h5 style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;">{{item.name}}</h5>
              <p style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;">{{item.description}}</p>
              <p style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;"><strong>Prix: </strong>{{item.prix}}</p>
            <!-- <p><strong>Quantité:</strong>{{item.quantity}}</p> -->
              <p><strong>Disponibilité:</strong>{{getAvailability(item.availability)}}</p>
            <button class="btn btn-primary" (click)="addtocart(item)">Ajouter au panier</button>
          </div>
      </ng-container>
  </div>
  </div>
  <div *ngIf="filter">
    <div class="row">
          <ng-container *ngFor="let item of productFiltredList">
              <div class="card col-md-3">
                  <img src="{{item.image}}" alt="">
                  <h5 style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;">{{item.name}}</h5>
                  <p style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;">{{item.description}}</p>
                <p style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;"><strong>Prix: </strong>{{item.prix}}</p>
                <!-- <p class="item-amount mt-4"><strong>Quantité:</strong>{{item.quantity}}</p> -->
                  <p class="item-amount mt-4"><strong>Disponibilité:</strong>{{getAvailability(item.availability)}}</p>
                <button class="btn btn-primary" (click)="addtocart(item)">Ajouter au panier</button>
              </div>
          </ng-container>
      </div>
    </div>
  <div class="row"*ngIf="filter">
    <ng-container *ngFor="let item of elementTrouve">
      <div class="card col-md-3">
        <img src="{{item.image}}" alt="">
        <h5 style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;">{{item.name}}</h5>
        <p style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;">{{item.description}}</p>
        <p style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch;"><strong>Prix: </strong>{{item.point}} </p>
        <!-- <p class="item-amount mt-4"><strong>Quantité:</strong>{{item.quantity}}</p> -->
        <p class="item-amount mt-4"><strong>Disponibilité:</strong>{{getAvailability(item.availability)}}</p>
        <button class="btn btn-primary" (click)="addtocart(item)" >Ajouter au panier</button>
      </div>
    </ng-container>
  </div>
</body>
